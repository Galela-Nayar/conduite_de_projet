
<div class="container">
  <!-- Petit encadrÃ© avec texte -->
  <div class="row">
      <div class="col">
        <div class="header">
          <div class="projet-info">
            <h1 class="projet-name">{{ projet.nom }}</h1>
            <h3 class="projet-date">Pour le : {{getFormattedDate(projet.dateButtoire)}}</h3>
          </div>
          <div class="separator"></div>
          <div class="selection">
            <app-mode-affichage (affichageChange)="handleAffichageChange($event)"></app-mode-affichage>
          </div>
          <div class="separator"></div>
          <div class="setting">
            <app-project-setting [projectId]="projet.id" [id]="id"></app-project-setting>
          </div>
        </div>
      </div>
  </div>

  <!-- Affichage en mode Kanban -->
  <div style="width: auto;" *ngIf="modeAffichage === 'Kanban'">
    <div style="width: 100%;"
      cdkDropList
      cdkDropListOrientation="horizontal"
      class="section-list"
      (cdkDropListDropped)="drop($event)"
      *ngIf="droitUtilisateurActuel != 'Visiteur'"
    >
      <div style="width: 100%;" cdkDrag *ngFor="let section of sections">
        <app-section style="width: 100%;" [sectionId]="section" [projetId]="projetId"></app-section>
      </div>
      <app-create-section *ngIf="showCreateSection"></app-create-section>
      <button
        (click)="onPlusClickSection($event)"
        class="app-section table-style"
        *ngIf="id"
      >
        +
      </button>
    </div>
    <div *ngIf="droitUtilisateurActuel == 'Visiteur'" class="section-list">
      <div *ngFor="let section of sections">
        <app-section [sectionId]="section"></app-section>
      </div>
    </div>
  </div>


  <!-- Affichage en mode scrum -->
  <div *ngIf="modeAffichage === 'Scrum'">
    <div
      cdkDropList
      cdkDropListOrientation="vertical"
      class="section-list-col"
      (cdkDropListDropped)="drop($event)"
      *ngIf="droitUtilisateurActuel != 'Visiteur'"
    >
      <div cdkDrag *ngFor="let section of sections">
        <app-section-scrum [sectionId]="section"></app-section-scrum>
      </div>
      <app-create-section *ngIf="showCreateSection"></app-create-section>
      <button
        (click)="onPlusClickSection($event)"
        class="app-section table-style"
        *ngIf="id"
      >
        +
      </button>
    </div>
    <div *ngIf="droitUtilisateurActuel == 'Visiteur'" class="section-list-col">
      <div *ngFor="let section of sections">
        <app-section-scrum [sectionId]="section"></app-section-scrum>
      </div>
    </div>
  </div>
</div>
